---
title: AWS IAM 기초 실습
date: 2024-01-03 02:00:00 +0900
categories: [AWS 실습]
tags: [aws, IAM]
--- 
- `IAM`대한 개념, `사용자 생성`, `사용자 그룹 생성`, `MFA 설정`에 대한 실습을 진행하고자 한다.
- 참고로, **AWS의 홈페이지는 자주 바뀌기 때문에** 이 포스터의 실습 관련된 이미지들은 `2024.01.03` 기준이다.

## 1. IAM 개념
- IAM는 AWS 계정 및 리소스에 대한 액세스를 관리하는 데 도움이 되는 AWS 서비스이다.
- IAM을 활용하면 사용자별로 또는 그룹별로 액세스 가능한 AWS 리소스를 제어할 수 있다.

## 2. IAM 유저(사용자) 생성하기
1. AWS 루트 계정으로 로그인하면 `콘솔 홈 화면`으로 들어와 진다.
2. 최근에 방문한 서비스에서 `IAM`을 선택하거나 검색창에 `IAM`을 입력하고, 검색 결과를 클릭한다.
![최근에 방문한 서비스에서 선택](/assets/img/posts/2024-01-03/select_IAM_01.png){: width="90%"}
  또는
![검색 창에 IAM 입력하고 클릭](/assets/img/posts/2024-01-03/select_IAM_02.png){: width="90%"}
3. IAM 서비스 화면 좌측에 있는 탭에서 `사용자`를 클릭하면 사용자 관리 페이지로 이동한다.
![사용자 클릭](/assets/img/posts/2024-01-03/click_user.png){: width="90%"}
4. 사용자 관리 페이지에서 신규 사용자를 생성하기 위해서 `사용자 생성` 버튼을 클릭한다.
![사용자 생성 버튼 클릭](/assets/img/posts/2024-01-03/click_create_user_btn.png){: width="90%"}
5. `사용자 이름` 빈 칸에 사용자 이름을 입력한다.
![사용자 이름 입력](/assets/img/posts/2024-01-03/input_user_name.png){: width="90%"}
6. `AWS Management Console에 대한 사용 액세스 권한 제공`을 클릭한다.
![6. 과 관련된 페이지이다.](/assets/img/posts/2024-01-03/aws_management_console.png){: width="90%"}
  - 사용자 지정 암호를 클릭하고 `사용자가 최초 로그인할 시 필요한 비밀번호`를 입력한다.
  - `사용자는 다음 로그인 시 새 암호를 생성해야 합니다`을 클릭한다. → 사용자가 최초 로그인했을 때, 암호를 수정할 수 있는 기능이다.(보안)
  - `다음` 버튼을 클릭한다.
7. `권한 설정`을 할 수 있는데, 여기에서는 `직접 정책 연결`을 클릭하여 Admin 권한을 부여하기 위해 `AdministratorAccess` 권한을 선택하고 `다음` 버튼을 클릭한다.
![권한 설정](/assets/img/posts/2024-01-03/authorization_setting.png){: width="90%"}
  - 이 외에도 `그룹에 사용자 추가`나 `권한 복사`를 통해 권한을 사용자가 가능한 권한을 설정해 줄 수 있다.
8. 검토를 진행하고 `사용자 생성` 버튼을 클릭하여 사용자를 생성한다.
![최종 사용자 생성](/assets/img/posts/2024-01-03/click_create_user_btn_final.png){: width="90%"}
9. `콘솔 로그인 URL`로 들어가서 `사용자 이름` 및 `콘솔 암호`을 통해 로그인을 진행한다.
![콘솔 로그인 세부 정보](/assets/img/posts/2024-01-03/user_login_detail_information.png){: width="90%"}
![콘솔 로그인 세부 정보](/assets/img/posts/2024-01-03/user_login.png){: width="90%"}
10. 로그인을 할 때마다 계정 `ID(12자리)`를 입력하는 것은 기억하기에 힘들다. 따라서 사용자로 로그인한 상태에서 `IAM 서비스 화면`으로 들어간다.([2. IAM 유저(사용자) 생성하기 - 2. 참고](#2-iam-유저사용자-생성하기)) 우측 `AWS 계정`의 `계정 별칭 생성`을 통해 사용자가 원하는 별칭 지정이 가능하다.
![계정 별칭 생성](/assets/img/posts/2024-01-03/account_ID_alias.png){: width="90%"}
  - 계정 별칭을 지정하면 이후부터 사용자 로그인 시, `계정 ID(12자리)` 대신에 `계정 별칭`을 이용해서 로그인이 가능하다.

## 3. IAM 그룹 생성하기
1. [2. IAM 유저(사용자) 생성하기 - 2.](#2-iam-유저사용자-생성하기)까지 진행하고 IAM 서비스 화면 좌측에 있는 탭에서 `사용자 그룹`를 클릭하면 사용자 그룹 관리 페이지로 이동한다.
![사용자 클릭](/assets/img/posts/2024-01-03/click_user_group.png){: width="90%"}
2. 사용자 그룹 관리 페이지에서 신규 사용자 그룹을 생성하기 위해서 `크룹 생성` 버튼을 클릭한다.
![사용자 클릭](/assets/img/posts/2024-01-03/click_create_group_btn.png){: width="90%"}
3. `사용자 그룹 이름` 빈 칸에 사용자 이름을 입력하고 `그룹에 사용자 추가`에서 원하는 사용자를 추가한다.
![사용자 그룹 이름 입력](/assets/img/posts/2024-01-03/input_user_group_name.png){: width="90%"}
  - `그룹에 사용자 추가`는 여기 단계에서 넘어가도록 하겠다.
4. `권한 정책 연결`을 할 수 있는데, 여기에서는 `AdministratorAccess` 권한을 선택하고 `그룹 생성` 버튼을 클릭한다.
![권한 정책 연결](/assets/img/posts/2024-01-03/authorization_setting_connection.png){: width="90%"}
5. 사용자 그룹 관리 페이지에서 그룹을 선택해서 사용자를 추가할 수 있다.
![사용자 그룹에 사용자 추가 01](/assets/img/posts/2024-01-03/add_user_to_group_01.png){: width="90%"}
![사용자 그룹에 사용자 추가 02](/assets/img/posts/2024-01-03/add_user_to_group_02.png){: width="90%"}
![사용자 그룹에 사용자 추가 03](/assets/img/posts/2024-01-03/add_user_to_group_03.png){: width="90%"}
  - 추가된 것을 확인할 수 있다.

## 4. MFA 설정
**MFA**는 두 개 이상의 인증 방법을 사용하여 자격 증명을 확인하는 방법으로 **보안을 강화**하기 위해서라도 설정하는 것이 좋다.
1. IAM 대시보드([2. IAM 유저(사용자) 생성하기 - 2. 까지 수행](#2-iam-유저사용자-생성하기))에서 `MFA 추가` 버튼을 클릭한다.\
![MFA 설정 01](/assets/img/posts/2024-01-03/MFA_setting_01.png){: width="90%"}
  - 추가된 것을 확인할 수 있다.
2. `디바이스 이름`을 입력하고 원하는 `MFA device`을 클릭한다. 저는 `Authenticator app`을 선택을 하고 `다음` 버튼을 클릭한다.
![MFA 설정 02](/assets/img/posts/2024-01-03/MFA_setting_02.png){: width="90%"}
3. 디바이스를 설정해 주는 단계이다.
  - 호환되는 애플리케이션을 참고해서 본인이 원하는 애플리케이션을 이용해준다. 저는 `Google Authenticator` 애플리케이션을 이용했다.
  - `QR 코드 표시`를 클릭해서 나온 **QR 코드**를 `Google Authenticator` 애플리케이션의 `QR 코드 스캔`을 이용해서 찍어준다.
  ![MFA 디바이스 설정 01](/assets/img/posts/2024-01-03/MFA_device_setting_01.png){: width="90%"}
  `Google Authenticator` 애플리케이션에서,
  ![MFA 디바이스 설정 02](/assets/img/posts/2024-01-03/MFA_device_setting_02.png){: width="90%"}
  - 연속된 MFA 2개를 입력하고 `MFA 추가` 버튼을 클릭한다.

## 마치며
- 클라우드에 대한 대표적인 업체인 AWS을 활용해서 IAM에 대한 기초적인 실습을 진행해 보았다.
- 누군가는 너무나도 기초적인 실습이라고 생각할 순 있지만, 처음해 보는 입장에서는 익숙하지 않아서 조금은 어려웠던 점도 존재했다.
  - 사용자를 생성하고 나서 사용자 그룹을 루트 계정에서 생성하는 것이 맞는지 사용자 계정에서 생성하는 것이 맞는지 헷갈린 부분이 존재했다. → 루트 계정에서 생성하는 것이 맞으나 사용자도 해당 `권한`을 가지고 있다면 상관이 없었다.

## 참고 자료
> **신한투자증권 프로 디지털 아카데미 3기**